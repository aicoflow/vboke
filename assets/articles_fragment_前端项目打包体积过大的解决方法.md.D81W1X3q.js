import{_ as s,c as n,o as t,aM as e}from"./chunks/framework.ldyE1wya.js";const u=JSON.parse('{"title":"å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•","description":"â€œæ‰“åŒ…ä½“ç§¯è¿‡å¤§â€æ˜¯å‰ç«¯å¼€å‘ä¸­éå¸¸å¸¸è§ã€ä¸”å½±å“æ€§èƒ½æœ€æ˜æ˜¾çš„é—®é¢˜ä¹‹ä¸€ã€‚ æˆ‘ä»¬å¯ä»¥ä» ä»£ç å±‚é¢ã€ä¾èµ–å±‚é¢ã€æ„å»ºå±‚é¢ã€èµ„æºå±‚é¢ å››ä¸ªè§’åº¦æ¥ä¼˜åŒ–ã€‚","frontmatter":{"date":"2025-10-31T18:41:50.000Z","title":"å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•","description":"â€œæ‰“åŒ…ä½“ç§¯è¿‡å¤§â€æ˜¯å‰ç«¯å¼€å‘ä¸­éå¸¸å¸¸è§ã€ä¸”å½±å“æ€§èƒ½æœ€æ˜æ˜¾çš„é—®é¢˜ä¹‹ä¸€ã€‚ æˆ‘ä»¬å¯ä»¥ä» ä»£ç å±‚é¢ã€ä¾èµ–å±‚é¢ã€æ„å»ºå±‚é¢ã€èµ„æºå±‚é¢ å››ä¸ªè§’åº¦æ¥ä¼˜åŒ–ã€‚","categories":["çŸ¥è¯†æŠ€èƒ½"],"tags":["JavaScript"],"sidebar":false},"headers":[],"relativePath":"articles/fragment/å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•.md","filePath":"articles/fragment/å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•.md"}'),l={name:"articles/fragment/å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•.md"};function i(p,a,o,d,r,c){return t(),n("div",null,a[0]||(a[0]=[e(`<h1 id="å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•" tabindex="-1">å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³• <a class="header-anchor" href="#å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•" aria-label="Permalink to &quot;å‰ç«¯é¡¹ç›®æ‰“åŒ…ä½“ç§¯è¿‡å¤§çš„è§£å†³æ–¹æ³•&quot;">â€‹</a></h1><p>â€œæ‰“åŒ…ä½“ç§¯è¿‡å¤§â€æ˜¯å‰ç«¯å¼€å‘ä¸­<strong>éå¸¸å¸¸è§ã€ä¸”å½±å“æ€§èƒ½æœ€æ˜æ˜¾çš„é—®é¢˜ä¹‹ä¸€</strong>ã€‚ æˆ‘ä»¬å¯ä»¥ä» <strong>ä»£ç å±‚é¢ã€ä¾èµ–å±‚é¢ã€æ„å»ºå±‚é¢ã€èµ„æºå±‚é¢</strong> å››ä¸ªè§’åº¦æ¥ä¼˜åŒ–ã€‚</p><h2 id="ğŸš€-ä¸€ã€ä»£ç å±‚é¢ä¼˜åŒ–" tabindex="-1">ğŸš€ ä¸€ã€ä»£ç å±‚é¢ä¼˜åŒ– <a class="header-anchor" href="#ğŸš€-ä¸€ã€ä»£ç å±‚é¢ä¼˜åŒ–" aria-label="Permalink to &quot;ğŸš€ ä¸€ã€ä»£ç å±‚é¢ä¼˜åŒ–&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-æŒ‰éœ€åŠ è½½-lazy-loading-code-splitting" tabindex="-1">1ï¸âƒ£ æŒ‰éœ€åŠ è½½ï¼ˆLazy Loading / Code Splittingï¼‰ <a class="header-anchor" href="#_1ï¸âƒ£-æŒ‰éœ€åŠ è½½-lazy-loading-code-splitting" aria-label="Permalink to &quot;1ï¸âƒ£ æŒ‰éœ€åŠ è½½ï¼ˆLazy Loading / Code Splittingï¼‰&quot;">â€‹</a></h3><ul><li><p><strong>æ€è·¯</strong>ï¼šåªåŠ è½½å½“å‰é¡µé¢éœ€è¦çš„ä»£ç ã€‚</p></li><li><p><strong>å®ç°æ–¹å¼</strong>ï¼š</p><ul><li><p>React ç¤ºä¾‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import React, { lazy, Suspense } from &quot;react&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const About = lazy(() =&gt; import(&quot;./pages/About&quot;));</span></span>
<span class="line"><span>const Home = lazy(() =&gt; import(&quot;./pages/Home&quot;));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function App() {</span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;</span></span>
<span class="line"><span>      &lt;Router&gt;</span></span>
<span class="line"><span>        &lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;</span></span>
<span class="line"><span>        &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;} /&gt;</span></span>
<span class="line"><span>      &lt;/Router&gt;</span></span>
<span class="line"><span>    &lt;/Suspense&gt;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>}</span></span></code></pre></div></li><li><p>Webpack è‡ªåŠ¨ä»£ç åˆ†å‰² (<code>import()</code> åŠ¨æ€å¯¼å…¥)ã€‚</p></li></ul></li></ul><p><strong>æ•ˆæœï¼š</strong> ğŸ‘‰ åˆå§‹åŒ…ä½“ç§¯æ˜¾è‘—é™ä½ï¼Œåªåœ¨éœ€è¦æ—¶åŠ è½½é¢å¤–æ¨¡å—ã€‚</p><hr><h3 id="_2ï¸âƒ£-tree-shaking-æ‘‡æ ‘ä¼˜åŒ–" tabindex="-1">2ï¸âƒ£ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰ <a class="header-anchor" href="#_2ï¸âƒ£-tree-shaking-æ‘‡æ ‘ä¼˜åŒ–" aria-label="Permalink to &quot;2ï¸âƒ£ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰&quot;">â€‹</a></h3><ul><li><p><strong>åŸç†</strong>ï¼šç§»é™¤æœªè¢«ä½¿ç”¨çš„æ¨¡å—å¯¼å‡ºï¼ˆä»…æ”¯æŒ ES Modulesï¼‰ã€‚</p></li><li><p><strong>é…ç½®æ–¹å¼ï¼ˆWebpack / Vite è‡ªåŠ¨æ”¯æŒï¼‰</strong>ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// package.json</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;sideEffects&quot;: false</span></span>
<span class="line"><span>}</span></span></code></pre></div></li><li><p>ç¡®ä¿ä½¿ç”¨ ES6 æ¨¡å—è¯­æ³•ï¼ˆ<code>import/export</code>ï¼‰ï¼Œä¸è¦ç”¨ <code>require</code>ã€‚</p></li></ul><hr><h3 id="_3ï¸âƒ£-å‡å°‘-polyfill-ä¸ç¬¬ä¸‰æ–¹åŒ…å¼•å…¥" tabindex="-1">3ï¸âƒ£ å‡å°‘ polyfill ä¸ç¬¬ä¸‰æ–¹åŒ…å¼•å…¥ <a class="header-anchor" href="#_3ï¸âƒ£-å‡å°‘-polyfill-ä¸ç¬¬ä¸‰æ–¹åŒ…å¼•å…¥" aria-label="Permalink to &quot;3ï¸âƒ£ å‡å°‘ polyfill ä¸ç¬¬ä¸‰æ–¹åŒ…å¼•å…¥&quot;">â€‹</a></h3><ul><li>ä»…åœ¨éœ€è¦æ—¶å¼•å…¥ polyfillï¼ˆå¦‚ core-js / babel-polyfillï¼‰ã€‚</li><li>ç”¨ <strong>babel-preset-env</strong> é…åˆ <code>useBuiltIns: &quot;usage&quot;</code>ï¼Œè‡ªåŠ¨æŒ‰éœ€æ³¨å…¥ polyfillã€‚</li><li>å¯¹äºå¤§å‹åº“ï¼ˆå¦‚ lodashã€momentï¼‰ï¼Œæ”¹ç”¨è½»é‡æ›¿ä»£ï¼š <ul><li>lodash â†’ lodash-esï¼ˆå¯ Tree Shakingï¼‰</li><li>moment â†’ dayjs</li><li>axios â†’ fetchï¼ˆå†…ç½®å³å¯ï¼‰</li></ul></li></ul><hr><h2 id="ğŸ“¦-äºŒã€ä¾èµ–å±‚é¢ä¼˜åŒ–" tabindex="-1">ğŸ“¦ äºŒã€ä¾èµ–å±‚é¢ä¼˜åŒ– <a class="header-anchor" href="#ğŸ“¦-äºŒã€ä¾èµ–å±‚é¢ä¼˜åŒ–" aria-label="Permalink to &quot;ğŸ“¦ äºŒã€ä¾èµ–å±‚é¢ä¼˜åŒ–&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-åˆ†ææ‰“åŒ…ä½“ç§¯" tabindex="-1">1ï¸âƒ£ åˆ†ææ‰“åŒ…ä½“ç§¯ <a class="header-anchor" href="#_1ï¸âƒ£-åˆ†ææ‰“åŒ…ä½“ç§¯" aria-label="Permalink to &quot;1ï¸âƒ£ åˆ†ææ‰“åŒ…ä½“ç§¯&quot;">â€‹</a></h3><p>ä½¿ç”¨å¯è§†åŒ–å·¥å…·æŸ¥çœ‹å“ªäº›æ¨¡å—æœ€å ä½“ç§¯ï¼š</p><ul><li><p><strong>Webpack</strong>ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm run build -- --stats-json</span></span>
<span class="line"><span>npx webpack-bundle-analyzer dist/stats.json</span></span></code></pre></div></li><li><p><strong>Vite</strong>ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm run build -- --report</span></span></code></pre></div></li></ul><p>è¿™äº›å·¥å…·èƒ½ç›´è§‚å±•ç¤ºæ¯ä¸ªä¾èµ–çš„å¤§å°ã€‚</p><h3 id="_2ï¸âƒ£-æ‹†åˆ†ç¬¬ä¸‰æ–¹åº“-vendor-splitting" tabindex="-1">2ï¸âƒ£ æ‹†åˆ†ç¬¬ä¸‰æ–¹åº“ï¼ˆVendor Splittingï¼‰ <a class="header-anchor" href="#_2ï¸âƒ£-æ‹†åˆ†ç¬¬ä¸‰æ–¹åº“-vendor-splitting" aria-label="Permalink to &quot;2ï¸âƒ£ æ‹†åˆ†ç¬¬ä¸‰æ–¹åº“ï¼ˆVendor Splittingï¼‰&quot;">â€‹</a></h3><p>è®©ä¸»ä¸šåŠ¡ä»£ç ä¸ç¬¬ä¸‰æ–¹åº“åˆ†å¼€ç¼“å­˜ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// Webpack config</span></span>
<span class="line"><span>optimization: {</span></span>
<span class="line"><span>  splitChunks: {</span></span>
<span class="line"><span>    chunks: &quot;all&quot;,</span></span>
<span class="line"><span>    cacheGroups: {</span></span>
<span class="line"><span>      vendors: {</span></span>
<span class="line"><span>        test: /[\\\\/]node_modules[\\\\/]/,</span></span>
<span class="line"><span>        name: &quot;vendors&quot;,</span></span>
<span class="line"><span>        chunks: &quot;all&quot;,</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre></div><hr><h2 id="âš™ï¸-ä¸‰ã€æ„å»ºå±‚é¢ä¼˜åŒ–" tabindex="-1">âš™ï¸ ä¸‰ã€æ„å»ºå±‚é¢ä¼˜åŒ– <a class="header-anchor" href="#âš™ï¸-ä¸‰ã€æ„å»ºå±‚é¢ä¼˜åŒ–" aria-label="Permalink to &quot;âš™ï¸ ä¸‰ã€æ„å»ºå±‚é¢ä¼˜åŒ–&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-å‹ç¼©ä¸æ··æ·†" tabindex="-1">1ï¸âƒ£ å‹ç¼©ä¸æ··æ·† <a class="header-anchor" href="#_1ï¸âƒ£-å‹ç¼©ä¸æ··æ·†" aria-label="Permalink to &quot;1ï¸âƒ£ å‹ç¼©ä¸æ··æ·†&quot;">â€‹</a></h3><ul><li>å¯ç”¨ <strong>TerserPlugin / esbuild / swc</strong> å‹ç¼© JavaScriptã€‚</li><li>ä½¿ç”¨ <strong>cssnano / postcss</strong> å‹ç¼© CSSã€‚</li><li>Viteã€Next.js é»˜è®¤å·²å¯ç”¨ç”Ÿäº§å‹ç¼©ã€‚</li></ul><h3 id="_2ï¸âƒ£-ä½¿ç”¨-gzip-brotli-å‹ç¼©" tabindex="-1">2ï¸âƒ£ ä½¿ç”¨ gzip / brotli å‹ç¼© <a class="header-anchor" href="#_2ï¸âƒ£-ä½¿ç”¨-gzip-brotli-å‹ç¼©" aria-label="Permalink to &quot;2ï¸âƒ£ ä½¿ç”¨ gzip / brotli å‹ç¼©&quot;">â€‹</a></h3><ul><li><p>æ„å»ºæ—¶ç”Ÿæˆå‹ç¼©ç‰ˆæœ¬ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install compression-webpack-plugin</span></span></code></pre></div></li><li><p>æˆ–åœ¨ Nginx / CDN å±‚å¼€å¯ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>gzip on;</span></span>
<span class="line"><span>gzip_types text/javascript text/css;</span></span></code></pre></div></li></ul><h3 id="_3ï¸âƒ£-å›¾ç‰‡ä¸å­—ä½“ä¼˜åŒ–" tabindex="-1">3ï¸âƒ£ å›¾ç‰‡ä¸å­—ä½“ä¼˜åŒ– <a class="header-anchor" href="#_3ï¸âƒ£-å›¾ç‰‡ä¸å­—ä½“ä¼˜åŒ–" aria-label="Permalink to &quot;3ï¸âƒ£ å›¾ç‰‡ä¸å­—ä½“ä¼˜åŒ–&quot;">â€‹</a></h3><ul><li>å›¾ç‰‡æ ¼å¼ï¼šä½¿ç”¨ WebPã€AVIFã€‚</li><li>å­—ä½“ï¼šä½¿ç”¨å­é›†åŒ–ï¼ˆsubsetï¼‰æˆ– CDNã€‚</li><li>å‹ç¼©å·¥å…·ï¼š<code>image-webpack-loader</code>ã€<code>svgo</code>ã€‚</li></ul><hr><h2 id="ğŸ§©-å››ã€èµ„æºå±‚é¢ä¼˜åŒ–" tabindex="-1">ğŸ§© å››ã€èµ„æºå±‚é¢ä¼˜åŒ– <a class="header-anchor" href="#ğŸ§©-å››ã€èµ„æºå±‚é¢ä¼˜åŒ–" aria-label="Permalink to &quot;ğŸ§© å››ã€èµ„æºå±‚é¢ä¼˜åŒ–&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-é™æ€èµ„æºåˆ†ç¦»ä¸-cdn-åŠ é€Ÿ" tabindex="-1">1ï¸âƒ£ é™æ€èµ„æºåˆ†ç¦»ä¸ CDN åŠ é€Ÿ <a class="header-anchor" href="#_1ï¸âƒ£-é™æ€èµ„æºåˆ†ç¦»ä¸-cdn-åŠ é€Ÿ" aria-label="Permalink to &quot;1ï¸âƒ£ é™æ€èµ„æºåˆ†ç¦»ä¸ CDN åŠ é€Ÿ&quot;">â€‹</a></h3><ul><li><p>JS/CSS æ–‡ä»¶ä¸Šä¼ åˆ° CDNã€‚</p></li><li><p>æ‰“åŒ…æ—¶ä½¿ç”¨å…¬å…±è·¯å¾„ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>output: {</span></span>
<span class="line"><span>  publicPath: &quot;https://cdn.example.com/&quot;,</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h3 id="_2ï¸âƒ£-ç¼“å­˜ç­–ç•¥" tabindex="-1">2ï¸âƒ£ ç¼“å­˜ç­–ç•¥ <a class="header-anchor" href="#_2ï¸âƒ£-ç¼“å­˜ç­–ç•¥" aria-label="Permalink to &quot;2ï¸âƒ£ ç¼“å­˜ç­–ç•¥&quot;">â€‹</a></h3><ul><li><p>ç»™é™æ€èµ„æºåŠ  <strong>hash åç§°</strong>ï¼Œç¡®ä¿ç¼“å­˜æ›´æ–°æ­£ç¡®ã€‚</p><ul><li>ä¾‹å¦‚ï¼š<code>main.abc123.js</code></li></ul></li><li><p>æœåŠ¡ç«¯è®¾ç½®ç¼“å­˜å¤´ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Cache-Control: max-age=31536000, immutable</span></span></code></pre></div></li></ul><hr><h2 id="ğŸ§ -äº”ã€æ¡†æ¶å±‚æŠ€å·§-ä»¥-react-vite-ä¸ºä¾‹" tabindex="-1">ğŸ§  äº”ã€æ¡†æ¶å±‚æŠ€å·§ï¼ˆä»¥ React / Vite ä¸ºä¾‹ï¼‰ <a class="header-anchor" href="#ğŸ§ -äº”ã€æ¡†æ¶å±‚æŠ€å·§-ä»¥-react-vite-ä¸ºä¾‹" aria-label="Permalink to &quot;ğŸ§  äº”ã€æ¡†æ¶å±‚æŠ€å·§ï¼ˆä»¥ React / Vite ä¸ºä¾‹ï¼‰&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>é—®é¢˜</th><th>ä¼˜åŒ–æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>React åº”ç”¨åˆæ¬¡åŠ è½½æ…¢</td><td>ä½¿ç”¨ React.lazy + Suspense åŠ¨æ€åŠ è½½è·¯ç”±ç»„ä»¶</td></tr><tr><td>æ‰“åŒ…è¿‡å¤§</td><td>åœ¨ Vite ä¸­é…ç½® <code>build.rollupOptions.output.manualChunks</code></td></tr><tr><td>UI åº“å¤ªå¤§</td><td>ä½¿ç”¨ç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½ï¼ˆå¦‚ antd çš„ <code>babel-plugin-import</code>ï¼‰</td></tr><tr><td>é‡å¤ä¾èµ–</td><td>æ£€æŸ¥ <code>node_modules</code> æ˜¯å¦å®‰è£…äº†é‡å¤ç‰ˆæœ¬ï¼ˆå¯ç”¨ <code>npm dedupe</code>ï¼‰</td></tr></tbody></table><hr><h2 id="âœ…-å®æˆ˜ä¼˜åŒ–æ•ˆæœ-çœŸå®æ¡ˆä¾‹å‚è€ƒ" tabindex="-1">âœ… å®æˆ˜ä¼˜åŒ–æ•ˆæœï¼ˆçœŸå®æ¡ˆä¾‹å‚è€ƒï¼‰ <a class="header-anchor" href="#âœ…-å®æˆ˜ä¼˜åŒ–æ•ˆæœ-çœŸå®æ¡ˆä¾‹å‚è€ƒ" aria-label="Permalink to &quot;âœ… å®æˆ˜ä¼˜åŒ–æ•ˆæœï¼ˆçœŸå®æ¡ˆä¾‹å‚è€ƒï¼‰&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ä¼˜åŒ–æ‰‹æ®µ</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th></tr></thead><tbody><tr><td>æŒ‰éœ€åŠ è½½ + Tree Shaking</td><td>5.2 MB</td><td>2.1 MB</td></tr><tr><td>gzip å‹ç¼©</td><td>2.1 MB</td><td>450 KB</td></tr><tr><td>å›¾ç‰‡ WebP åŒ–</td><td>450 KB</td><td>310 KB</td></tr><tr><td>ç¬¬ä¸‰æ–¹åº“ç²¾ç®€</td><td>310 KB</td><td>180 KB</td></tr></tbody></table>`,41)]))}const g=s(l,[["render",i]]);export{u as __pageData,g as default};
